{% extends 'base.html.twig' %}

{% block title %}Ajouter un restaurant
{% endblock %}

{% block body %}
	<div class="max-w-5xl w-11/12 md:w-5/6 lg:w-3/4 mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-28">

		<h1 class="text-2xl sm:text-3xl font-second font-medium text-orange text-center mb-8">
			Ajouter un restaurant
		</h1>

		{# Flashs #}
		{% for label, messages in app.flashes %}
			{% for message in messages %}
				<div class="alert alert-{{ label }} mb-4 max-w-3xl mx-auto">
					{% autoescape false %}
						{{ message }}
					{% endautoescape %}
				</div>
			{% endfor %}
		{% endfor %}

		{{ form_start(restaurantForm, {'attr': {'class': 'space-y-8'}}) }}

		{# Informations générales #}
		<section class="bg-blue/5 rounded-xl p-5 sm:p-6">
			<h2 class="text-lg sm:text-xl font-medium flex gap-4 items-center font-second text-blue mb-4">
				<span class="h-0.5 rounded-md bg-blue w-6 sm:w-8 block"></span>
				Informations générales
			</h2>

			<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
				<div>{{ form_row(restaurantForm.name) }}</div>
				<div>{{ form_row(restaurantForm.siret) }}</div>
				<div class="md:col-span-2">{{ form_row(restaurantForm.bannerFile) }}</div>
				<div class="md:col-span-2">{{ form_row(restaurantForm.description) }}</div>
			</div>
		</section>

		{# Images du restaurant #}
		<section class="bg-orange/5 rounded-xl p-5 sm:p-6">
			<h2 class="text-lg sm:text-xl font-medium flex gap-4 items-center font-second text-orange mb-4">
				<span class="h-0.5 rounded-md bg-orange w-6 sm:w-8 block"></span>
				Images du restaurant
			</h2>

			<image-uploader
				data-prototype="{{ form_widget(restaurantForm.images.vars.prototype) | e('html_attr') }}">
				<div class="existing-images grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4"></div>
			</image-uploader>

			<script type="module" src="{{ asset('webcomponents/ImageUploader.js') }}"></script>
		</section>

		{# Coordonnées #}
		<section class="bg-blue/5 rounded-xl p-5 sm:p-6">
			<h2 class="text-lg sm:text-xl font-medium flex gap-4 items-center font-second text-blue mb-4">
				<span class="h-0.5 rounded-md bg-blue w-6 sm:w-8 block"></span>
				Coordonnées
			</h2>

			<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
				<div class="md:col-span-3">{{ form_row(restaurantForm.address) }}</div>
				<div class="md:col-span-1">{{ form_row(restaurantForm.postalCode) }}</div>
				<div class="md:col-span-2">{{ form_row(restaurantForm.city) }}</div>
				<div class="md:col-span-2">{{ form_row(restaurantForm.country) }}</div>
				<div class="md:col-span-1">{{ form_row(restaurantForm.phoneNumber) }}</div>
			</div>
		</section>

		{# Infos pratiques #}
		<section class="bg-orange/5 rounded-xl p-5 sm:p-6">
			<h2 class="text-lg sm:text-xl font-medium flex gap-4 items-center font-second text-orange mb-4">
				<span class="h-0.5 rounded-md bg-orange w-6 sm:w-8 block"></span>
				Infos pratiques
			</h2>

			<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
				<div>{{ form_row(restaurantForm.openingHours) }}</div>
				<div>{{ form_row(restaurantForm.types) }}</div>
				<div>{{ form_row(restaurantForm.priceRange) }}</div>
				<div>{{ form_row(restaurantForm.website) }}</div>
			</div>
		</section>

		<div class="flex flex-col sm:flex-row justify-center gap-3 sm:gap-4 mt-6">
			<a href="{{ path('app_restaurateur') }}" class="btn-secondary text-center">Annuler</a>
			<button type="submit" class="btn">Créer</button>
		</div>

		{{ form_end(restaurantForm) }}
	</div>
{% endblock %}
